!function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n){return"function"==typeof n},e=function(n){return null==n},r=function(n){return null!==n&&("function"==typeof n||"object"==typeof n)},u=function(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n},o=function(e,u){if(t(e)||t(u)||typeof e!=typeof u)return!0;if(n(e)){if(e.length!==u.length)return!0;if(e.some(function(n){return-1===u.indexOf(n)}))return!0}else{if(!r(e))return e!==u;var i=Object.keys(e).sort(),c=Object.keys(u).sort();if(o(i,c))return!0;for(var f=0;f<i.length;f+=1)if(o(e[i[f]],u[c[f]]))return!0}},i=function(e){return!t(e)&&(n(e)?0===e.length:r(e)?0===Object.keys(e).length:void 0===e||""===e||null===e||!1===e)},c=function(t){return n(t)&&t.length<=3&&("string"==typeof t[0]||"function"==typeof t[0])&&!i(t[0])},f=function(n){return n.replace(/[A-Z]/g,"-$&").toLowerCase()},a=function(t){return(i(t)||n(t)?t:[t])||[]},s=function(n,t){return n.filter(t||function(n){return!i(n)})},l=function(n){for(var t=String(n).replace(/^\s+|\s+$/g,"").replace(/></g,">\n<").replace(/\/(\w+)></g,"/$1>\n<").replace(/>(.+?)<([a-zA-Z])/g,">\n$1\n<$2").split("\n"),e=0,r="";e<t.length;e+=1){var u=t[e].replace(/^\s+|\s+$/g,"");/^<[\/]/.test(u)?(r=r.replace("  ",""),t[e]=r+u):/<.*>.*<\/.*>|<.*[^>]\/>/.test(u)?t[e]=r+u:(t[e]=r+u,r+="  ")}return t.join("\n")},d=function(n){var t=n.match(/\n( )*/),e=t[0].substr(0,t[0].length-1).split("").length;return n.replace(new RegExp("^ {"+e+"}","mg"),"").trim()},v=function(n,t,e){return Array.from({length:Math.max(n.length,t.length)}).map(function(r,u){return e(n[u],t[u],u)})},p=function(n,t,e){return void 0===e&&(e={}),function(){for(var r=[],u=arguments.length;u--;)r[u]=arguments[u];return t===r.length&&n.apply(void 0,r.concat([e]))}},h=function(n){return("undefined"!=typeof window&&window.requestAnimationFrame||setTimeout)(n)},g=function(n,t,e){return n.replaceChild(t,n.childNodes[e])},m=function(n,t){return n.appendChild(t)},y=function(n){return function(n,t){return n&&n.removeChild(t)}(n.parentNode,n)},w="http://www.w3.org/1999/xlink",b=/(\w*)(#[\w-]+)?([\w.-]+)?/;function j(e){return e=c(e)&&t(e[0])?j(e[0](e[1],a(e[2]))):e,n(e[2])&&e[2].forEach(function(n,t){c(n)&&(e[2][t]=j(n))}),e}function O(e){if((n(e[1])||u(e[1]))&&(e[2]=e[1],e[1]=null),t(e[0])&&(e=O(e[0](e[1],a(e[2])))),!c(e))throw new Error("Invalid vnode, given '"+e+"'");var o=e[0].match(b),i=o[1]||"div",f=Object.assign({},e[1]);if(o[2]&&(f.id=o[2].substr(1)),o[3]){var s=o[3].substr(1).split(".");n(f.class)||u(f.class)?(f.class=n(f.class)?f.class:f.class.split(/\W/),f.class=s.concat(f.class).reduce(function(n,t){return-1===n.indexOf(t)&&n.push(t),n},[])):r(f.class)?s.forEach(function(n){f.class[n]=1}):f.class=s}return[i,f,a(e[2])]}function E(n,e,u,o){Object.keys(e).forEach(function(c){if("key"!==c&&!r(e[c])||(e[c]=t(o)&&o(n,c,e[c])||null,"key"!==c)){var f=i(e[c]),a=!0===e[c]?c:e[c],s=c.replace(/^xlink:?/,"");u&&c!==s?f?n.removeAttributeNS(w,s):n.setAttributeNS(w,s,a):f?n.removeAttribute(c):n.setAttribute(c,a)}})}var k="http://www.w3.org/2000/svg";function N(n,t){return void 0===t&&(t=function(n){return n()}),Promise.resolve().then(function(){return t(function(){return n.remove()})})}function x(n,r,o){if(t(n))return n(r,o);if(u(n))return document.createTextNode(n);if(e(n))throw new TypeError("Empty or invalid node, given '"+n+"'");if(!c(n))return n;var f=O([].concat(n)),a=f[0],s=f[1],l=f[2],d=r||"svg"===a,v=d?document.createElementNS(k,a):document.createElement(a);return t(o)&&(v=o(v,a,s,l)||v),t(v)?x(v(),d,o):(i(s)||E(v,s,d,o),t(v.oncreate)&&v.oncreate(v),t(v.enter)&&v.enter(),v.remove=function(){return Promise.resolve().then(function(){return t(v.ondestroy)&&v.ondestroy(v)}).then(function(){return t(v.teardown)&&v.teardown()}).then(function(){return t(v.exit)&&v.exit()}).then(function(){return y(v)})},l.forEach(function(n){i(n)||v.appendChild(x(n,d,o))}),v)}function A(n,t,e){void 0===e&&(e=x),"function"==typeof t&&(e=t,t=n,n=void 0),t||(t=n,n=void 0),n||(n=document.body),"string"==typeof n&&(n=document.querySelector(n));var r=u(t)||c(t)?e(t):t;return m(n,r),r}function L(n,e,r,i,f,a){if(void 0===a&&(a=0),null===a){var s=O([].concat(e)),l=O([].concat(r));(function(n,t,e,r,u){var i,c=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return r in t&&!(r in e)?(n[r]=null,i=!0):o(t[r],e[r])&&(n[r]=e[r],i=!0),n},{});return i&&E(n,c,r,u),i})(n,s[1],l[1],i,f)&&(t(n.onupdate)&&n.onupdate(n),t(n.update)&&n.update()),v(s[2],l[2],function(t,e,r){return L(n,t,e,i,f,r)})}else u(e)&&u(r)?o(e,r)&&(n.childNodes[a].nodeValue=r):!e&&r?m(n,x(r,i,f)):e&&!r?N(n.childNodes[a]):e[0]!==r[0]?c(e)&&c(r)?g(n,x(r,i,f),a):v(e,r,function(t,e,r){return L(n,t,e,i,f,r)}):L(n.childNodes[a],e,r,i,f,null)}function S(t,u){return e(t)?[]:r(t)?n(t)?s(t):s(Object.keys(t).reduce(function(n,r){return e(t[r])||n.push(u(t[r],r)),n},[])):t}function $(n){return S(n,function(n,t){return n?t:void 0})}function T(e,o,i,c){if(r(c)){if(t(c))return c(i,o,e);if(t(c[o]))return c[o](i,o,e)}r(i)&&function(e,r,o){n(o)?e.setAttribute("data-"+r,JSON.stringify(o)):t(o)||Object.keys(o).forEach(function(n){var t=u(o[n])?o[n]:JSON.stringify(o[n]);e.setAttribute(("data"!==r?"data-":"")+r+"-"+n,t)})}(e,o,i)}var C=["oncreate","onupdate","ondestroy"];function M(n){return n.currentTarget.events[n.type](n)}function P(n,e,u,o){if(t(u))if(n.events=n.events||{},n.teardown||(n.teardown=function(){return Object.keys(n.events).map(function(t){return n.removeEventListener(t,M)})}),"on"===e.substr(0,2)&&-1===C.indexOf(e)){var i=e.substr(2);n.events[i]||n.addEventListener(i,M,!1),n.events[i]=function(n){return function(n,e,u,o){var i;r(o)&&(t(o)?i=!1===o(e,n):t(o[e])&&(i=!1===o[e](n))),i||u(n)}(n,e,u,o)}}else(C.indexOf(e)>-1?n:n.events)[e]=u}var q={h:function(n,t){for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];return[n,t,e]},pre:function(n,t,e){return void 0===e&&(e=x),e(["pre",{class:"highlight"},l(e(n,t).outerHTML)],t)},bind:function(n){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var u=s(e,t),o=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return u.reduce(function(t,e){return e.apply(void 0,n)||t},void 0)};return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.length<=2?n(t[0],t[1],o):o.apply(void 0,t)}},view:function(n,t,e){return function(r,u){void 0===u&&(u=x);var o,i,c=Object.assign({},t),f=Object.keys(e).reduce(function(t,r){return t[r]=function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];return Promise.resolve().then(function(){return e[r].apply(e,t)(c)}).then(function(n){return Object.assign(c,n)}).then(function(t){L(o,i,i=j(n(t,f)),null,u,null)})},t},{});return o=A(r,i=j(n(c,f)),u),f.unmount=function(){return N(o)},f.target=o,f}},mount:A,patch:L,render:x,unmount:N,listeners:function(n){return p(P,3,n)},attributes:function(n){return p(T,3,n)},styles:function(n){return(t=n,S(t,function(n,t){return f(t)+": "+n})).join("; ");var t},classes:function(n){return $(n).join(" ")},animation:function(n,t,e){e[t]=function(n,t,e){return function(){return new Promise(function(t){var r;function u(){n.removeEventListener("animationend",u),e.map(function(t){return n.classList.remove(t)}),clearTimeout(r),t()}r=setTimeout(u,500),n.addEventListener("animationend",u),h(function(){e.map(function(t){return n.classList.add(t)})})})}}(e,0,$(n))}};function H(n,t){var e=n.loaded,r=n.parentNode;return e||(!function(n){var t=n.innerHTML,e=n.parentNode,r=t.replace(/( +)appendChild\(([^;]*?)\);?/gm,"$1$2").replace(/test\(\s*\([^=()]*\)\s*=>\s*\{/,"").replace(/\}\)\s*;$/,"");A(e,["details",[["summary","View executed code"],["pre",{class:"highlight"},d(r)]]])}(n),n.loaded=!0),t&&r.insertBefore(t,n),t}var J=[];window.test=function(n){J.push({cb:n,el:document.currentScript})},window.addEventListener("DOMContentLoaded",function(){J.forEach(function(n){try{n.cb(q,function(t){return H(n.el,t)})}catch(t){H(n.el,x(["div",{class:"error"},t.toString()]))}}),window.hijs=".highlight",A("head",["script",{src:"//cdn.rawgit.com/cloudhead/hijs/0eaa0031/hijs.js"}])})}();
//# sourceMappingURL=main.test.iife.min.js.map
